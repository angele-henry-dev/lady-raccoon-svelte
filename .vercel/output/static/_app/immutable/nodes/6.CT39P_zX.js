import{t as w,h as ze,a as M}from"../chunks/DO602qnI.js";import"../chunks/SzQudNXV.js";import{h as ee,aA as Fe,Q as Se,aB as je,W as Be,a4 as Le,a2 as I,k as s,X as Ne,$ as Ve,a0 as n,_ as c,l as de,Z as Q,a1 as o,a5 as Ee,Y as _,aC as fe}from"../chunks/BHs1Liw3.js";import{l as He,e as b,s as m}from"../chunks/5mPyaOHX.js";import{e as Y,i as Z}from"../chunks/CikGAWUX.js";import{s as xe,r as O}from"../chunks/BnzpHlS3.js";import{t as Xe,s as me,c as _e}from"../chunks/5dHTN4RO.js";import{i as qe}from"../chunks/DV_YB_SF.js";import{o as De}from"../chunks/Bms3cMyO.js";function he(e,r,t,a){var l=e.__style;if(ee||l!==r){var v=Xe(r);(!ee||v!==e.getAttribute("style"))&&(v==null?e.removeAttribute("style"):e.style.cssText=v),e.__style=r}return a}function z(e,r,t=r){var a=Fe();He(e,"input",l=>{var v=l?e.defaultValue:e.value;if(v=J(e)?U(v):v,t(v),a&&v!==(v=r())){var u=e.selectionStart,d=e.selectionEnd;e.value=v??"",d!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(d,e.value.length))}}),(ee&&e.defaultValue!==e.value||Se(r)==null&&e.value)&&t(J(e)?U(e.value):e.value),je(()=>{var l=r();J(e)&&l===U(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function J(e){var r=e.type;return r==="number"||r==="range"}function U(e){return e===""?null:+e}const te=7,Ge=4.5,Ke=4.5,We=3;function F(e){return/^#[0-9A-Fa-f]{6}$/.test(e)}function S(e){let r=0,t=0,a=0;return e.length===7&&(r=parseInt(e.slice(1,3),16),t=parseInt(e.slice(3,5),16),a=parseInt(e.slice(5,7),16)),{r,g:t,b:a}}function Ae(e,r,t){const a=l=>l.toString(16).padStart(2,"0");return`#${a(e)}${a(r)}${a(t)}`}function be(e,r,t){const a=[e,r,t].map(l=>(l/=255,l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4)));return a[0]*.2126+a[1]*.7152+a[2]*.0722}function h(e,r){if(!F(e)||!F(r))return 0;const t=S(e),a=S(r),l=be(t.r,t.g,t.b),v=be(a.r,a.g,a.b);return(Math.max(l,v)+.05)/(Math.min(l,v)+.05)}function Pe(e,r){let t=e,a=0;for(;h(t,r)<te&&a<50;)t=ke(r,t),a++;return t}function ke(e,r){if(!F(e)||!F(r))return r;const t=S(r);let a=h(e,r),l=0;const v=h(e,"#000000")>h(e,"#ffffff");for(;a<te&&l<50;)v?(t.r=Math.max(0,t.r-5),t.g=Math.max(0,t.g-5),t.b=Math.max(0,t.b-5)):(t.r=Math.min(255,t.r+5),t.g=Math.min(255,t.g+5),t.b=Math.min(255,t.b+5)),r=Ae(t.r,t.g,t.b),a=h(e,r),l++;return r}function ge(e,r){const{r:t,g:a,b:l}=S(e),u={protanopia:[[.567,.433,0],[.558,.442,0],[0,.242,.758]],deuteranopia:[[.625,.375,0],[.7,.3,0],[0,.3,.7]],tritanopia:[[.95,.05,0],[0,.433,.567],[0,.475,.525]],achromatopsia:[[.299,.587,.114],[.299,.587,.114],[.299,.587,.114]]}[r],d=Math.max(0,Math.min(255,Math.round(t*u[0][0]+a*u[0][1]+l*u[0][2]))),T=Math.max(0,Math.min(255,Math.round(t*u[1][0]+a*u[1][1]+l*u[1][2]))),C=Math.max(0,Math.min(255,Math.round(t*u[2][0]+a*u[2][1]+l*u[2][2])));return Ae(d,T,C)}const Qe=[{title:"protanopie",technical:"protanopia",example_1:"It's dangerous to go alone! Take this contrast boost!",example_2:"Ce texte est super efficace !"},{title:"deutéranopie",technical:"deuteranopia",example_1:"May the contrast be with you...",example_2:"Le futur est accessible. Enfin… presque."},{title:"tritanopie",technical:"tritanopia",example_1:"Neo, vois-tu enfin les contrastes de la Matrice ?",example_2:"Error 404: Low contrast not found."},{title:"achromatopsie",technical:"achromatopsia",example_1:"Debugging contrast levels like a pro.",example_2:"Accès autorisé : contraste optimal détecté."}];var Ye=w('<meta name="description" content="Testez facilement le contraste des couleurs de votre site web. Vérifiez la conformité aux normes WCAG pour une meilleure accessibilité. Outil rapide, simple et gratuit.">'),Ze=w("<div><p> </p> <p> </p></div>"),Je=w("<div><p> </p> <p> </p></div>"),Ue=w('<div class="pickers flex flex-col gap-5 flex-wrap mb-10 svelte-lvx8kp"><div class="contrast flex flex-col p-5 pt-0 svelte-lvx8kp"><p class="my-3 font-black"> </p> <p class="text-center"> </p> <div class="accessibility-levels svelte-lvx8kp"></div></div> <div class="preview flex flex-col p-5 pt-0 svelte-lvx8kp"><div><p class="my-3 font-black">Normal text - 12px</p> <p style="font-size: 12px;"> </p></div> <div><p class="my-3 font-black">Large text - 18px</p> <p style="font-size: 18px;"> </p></div></div></div>'),et=w(`<section class="container mt-5 p-5 md:p-10 mx-auto"><h1 class="text-2xl md:text-4xl mb-20">Testez le contraste des couleurs de votre site web</h1> <div class="pickers flex flex-col gap-5 flex-wrap my-10 svelte-lvx8kp"><div class="flex flex-row gap-5 flex-wrap"><div class="flex flex-row gap-5 flex-wrap p-5 pt-0"><div class="flex flex-col"><label for="hexaBg" class="font-black my-5">Couleur de fond :</label> <div class="input-container svelte-lvx8kp"><input type="text" aria-label="code hexadecimal fond" title="Veuillez entrer un code hexadécimal valide (ex: #FF5733)" class="svelte-lvx8kp"> <input type="color" id="hexaBg" class="svelte-lvx8kp"></div> <button class="px-2 py-1 mt-4 svelte-lvx8kp" title="Ajuster le fond">Ajuster le fond</button></div> <div class="flex flex-col"><label for="hexaText" class="font-black my-5">Couleur du texte :</label> <div class="input-container svelte-lvx8kp"><input type="text" aria-label="code hexadecimal texte" title="Veuillez entrer un code hexadécimal valide (ex: #FF5733)" class="svelte-lvx8kp"> <input type="color" id="hexaText" class="svelte-lvx8kp"></div> <button class="px-2 py-1 mt-4 svelte-lvx8kp" title="Ajuster le texte">Ajuster le texte</button></div></div> <div class="contrast flex flex-col p-5 pt-0 svelte-lvx8kp"><p class="my-3 font-black">Contraste</p> <p class="text-center"> </p> <div class="accessibility-levels svelte-lvx8kp"></div></div></div> <div class="preview flex flex-col p-5 pt-0 svelte-lvx8kp"><div><p class="my-3 font-black">Normal text - 12px</p> <p style="font-size: 12px;">I see dead pixels… but not with this contrast!</p></div> <div><p class="my-3 font-black">Large text - 18px</p> <p style="font-size: 18px;">Mission: Increase contrast. Status: In Progress...</p></div></div></div> <h2>Simulation de vision</h2> <div class="flex flex-row flex-wrap mt-10"></div></section> <svg height="0" width="0"><defs><filter id="protanopia"><feColorMatrix type="matrix" values="0.567, 0.433, 0, 0, 0
													0.558, 0.442, 0, 0, 0
													0, 0.242, 0.758, 0, 0
													0, 0, 0, 1, 0"></feColorMatrix></filter><filter id="deuteranopia"><feColorMatrix type="matrix" values="0.625, 0.375, 0, 0, 0
													0.7, 0.3, 0, 0, 0
													0, 0.3, 0.7, 0, 0
													0, 0, 0, 1, 0"></feColorMatrix></filter><filter id="tritanopia"><feColorMatrix type="matrix" values="0.95, 0.05, 0, 0, 0
													0, 0.433, 0.567, 0, 0
													0, 0.475, 0.525, 0, 0
													0, 0, 0, 1, 0"></feColorMatrix></filter><filter id="achromatopsia"><feColorMatrix type="matrix" values="0.299, 0.587, 0.114, 0, 0
													0.299, 0.587, 0.114, 0, 0
													0.299, 0.587, 0.114, 0, 0
													0, 0, 0, 1, 0"></feColorMatrix></filter></defs></svg>`,1);function vt(e,r){Be(r,!1);let t=Q("#f8f8f8"),a=Q("#111110"),l=Q({contrast:0,protanopia:0,deuteranopia:0,tritanopia:0,achromatopsia:0});function v(){_(a,ke(s(t),s(a))),d()}function u(){_(t,Pe(s(t),s(a))),d()}function d(){fe(l,s(l).contrast=h(s(t),s(a))),["protanopia","deuteranopia","tritanopia","achromatopsia"].forEach(i=>{fe(l,s(l)[i]=h(ge(s(t),i),ge(s(a),i)))})}function T(i,p){let f=i.target.value.trim();/^#[0-9A-Fa-f]{6}$/.test(f)&&(p==="bg"?_(t,f):_(a,f),d())}function C(i){return[{label:"AA 18px",reached:i>=We},{label:"AA",reached:i>=Ke},{label:"AAA 18px",reached:i>=Ge},{label:"AAA",reached:i>=te}]}De(d),qe();var ae=et();ze(i=>{var p=Ye();Ve.title="Testeur de Contraste • Vérifiez l’Accessibilité des Couleurs | Lady Raccoon",M(i,p)});var re=Le(ae),j=c(n(re),2),B=n(j),L=n(B),N=n(L),V=c(n(N),2),g=n(V);O(g),xe(g,"pattern","#[0-9A-Fa-f]6");var E=c(g,2);O(E),o(V);var ye=c(V,2);o(N);var le=c(N,2),H=c(n(le),2),A=n(H);O(A),xe(A,"pattern","#[0-9A-Fa-f]6");var X=c(A,2);O(X),o(H);var Me=c(H,2);o(le),o(L);var se=c(L,2),q=c(n(se),2),we=n(q);o(q);var ie=c(q,2);Y(ie,5,()=>C(s(l).contrast),Z,(i,p)=>{var x=Ze(),f=n(x),k=n(f,!0);o(f);var $=c(f,2),y=n($);o($),o(x),I(()=>{me(x,1,_e(s(p).reached?"badge success":"badge error"),"svelte-lvx8kp"),m(k,s(p).label),m(y,`- ${(s(p).reached?"OK":"X")??""} -`)}),M(i,x)}),o(ie),o(se),o(B);var Te=c(B,2);o(j);var oe=c(j,4);Y(oe,5,()=>Qe,Z,(i,p)=>{var x=Ue(),f=n(x),k=n(f),$=n(k);o(k);var y=c(k,2),Ce=n(y);o(y);var ne=c(y,2);Y(ne,5,()=>C(s(l)[s(p).technical]),Z,(K,W)=>{var R=Je(),P=n(R),Ie=n(P,!0);o(P);var ue=c(P,2),Oe=n(ue);o(ue),o(R),I(()=>{me(R,1,_e(s(W).reached?"badge success":"badge error"),"svelte-lvx8kp"),m(Ie,s(W).label),m(Oe,`- ${(s(W).reached?"OK":"X")??""} -`)}),M(K,R)}),o(ne),o(f);var D=c(f,2),G=n(D),ce=c(n(G),2),$e=n(ce,!0);o(ce),o(G);var ve=c(G,2),pe=c(n(ve),2),Re=n(pe,!0);o(pe),o(ve),o(D),o(x),I(K=>{m($,`Contraste ${s(p).title??""}`),m(Ce,`Ratio : ${K??""}`),he(D,`background-color: ${s(t)??""}; color: ${s(a)??""}; filter: url(#${[s(p).technical]});`),m($e,s(p).example_1),m(Re,s(p).example_2)},[()=>s(l)[s(p).technical].toFixed(2)],de),M(i,x)}),o(oe),o(re),Ee(2),I(i=>{m(we,`Ratio : ${i??""}`),he(Te,`background-color: ${s(t)??""}; color: ${s(a)??""};`)},[()=>s(l).contrast.toFixed(2)],de),z(g,()=>s(t),i=>_(t,i)),b("input",g,i=>T(i,"bg")),z(E,()=>s(t),i=>_(t,i)),b("input",E,d),b("click",ye,u),z(A,()=>s(a),i=>_(a,i)),b("input",A,i=>T(i,"text")),z(X,()=>s(a),i=>_(a,i)),b("input",X,d),b("click",Me,v),M(e,ae),Ne()}export{vt as component};
