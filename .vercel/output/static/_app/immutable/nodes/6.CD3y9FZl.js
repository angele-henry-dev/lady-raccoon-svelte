import{h as Fe,a as M,t as C}from"../chunks/tc4Ud0QH.js";import"../chunks/Dq3inLSs.js";import{aJ as je,u as Oe,r as Se,h as Be,A as Le,ab as Ne,J as I,B as ze,$ as Ee,Y as ue,v as l,C as h,aK as fe,F as c,G as n,I as o,ac as De,D as Y}from"../chunks/CIbAdJgL.js";import{l as Ve,e as b,s as m}from"../chunks/p8R0WTZq.js";import{s as F,e as Q,r as j,i as U}from"../chunks/BVkcEj45.js";import{s as xe}from"../chunks/DjmaOWy3.js";import{i as Ge}from"../chunks/R_MCGWyg.js";import{o as He}from"../chunks/CEbdDXCO.js";function be(e){var r,t,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(r=0;r<i;r++)e[r]&&(t=be(e[r]))&&(a&&(a+=" "),a+=t)}else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function Ke(){for(var e,r,t=0,a="",i=arguments.length;t<i;t++)(e=arguments[t])&&(r=be(e))&&(a&&(a+=" "),a+=r);return a}function me(e){return typeof e=="object"?Ke(e):e??""}function O(e,r,t=r){var a=je();Ve(e,"input",i=>{var v=i?e.defaultValue:e.value;if(v=Z(e)?ee(v):v,t(v),a&&v!==(v=r())){var d=e.selectionStart,u=e.selectionEnd;e.value=v??"",u!==null&&(e.selectionStart=d,e.selectionEnd=Math.min(u,e.value.length))}}),(Be&&e.defaultValue!==e.value||Oe(r)==null&&e.value)&&t(Z(e)?ee(e.value):e.value),Se(()=>{var i=r();Z(e)&&i===ee(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Z(e){var r=e.type;return r==="number"||r==="range"}function ee(e){return e===""?null:+e}const te=7,qe=4.5,Je=4.5,Xe=3;function S(e){return/^#[0-9A-Fa-f]{6}$/.test(e)}function B(e){let r=0,t=0,a=0;return e.length===7&&(r=parseInt(e.slice(1,3),16),t=parseInt(e.slice(3,5),16),a=parseInt(e.slice(5,7),16)),{r,g:t,b:a}}function ge(e,r,t){const a=i=>i.toString(16).padStart(2,"0");return`#${a(e)}${a(r)}${a(t)}`}function he(e,r,t){const a=[e,r,t].map(i=>(i/=255,i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)));return a[0]*.2126+a[1]*.7152+a[2]*.0722}function _(e,r){if(!S(e)||!S(r))return 0;const t=B(e),a=B(r),i=he(t.r,t.g,t.b),v=he(a.r,a.g,a.b);return(Math.max(i,v)+.05)/(Math.min(i,v)+.05)}function Pe(e,r){let t=e,a=0;for(;_(t,r)<te&&a<50;)t=Ae(r,t),a++;return t}function Ae(e,r){if(!S(e)||!S(r))return r;const t=B(r);let a=_(e,r),i=0;const v=_(e,"#000000")>_(e,"#ffffff");for(;a<te&&i<50;)v?(t.r=Math.max(0,t.r-5),t.g=Math.max(0,t.g-5),t.b=Math.max(0,t.b-5)):(t.r=Math.min(255,t.r+5),t.g=Math.min(255,t.g+5),t.b=Math.min(255,t.b+5)),r=ge(t.r,t.g,t.b),a=_(e,r),i++;return r}function _e(e,r){const{r:t,g:a,b:i}=B(e),d={protanopia:[[.567,.433,0],[.558,.442,0],[0,.242,.758]],deuteranopia:[[.625,.375,0],[.7,.3,0],[0,.3,.7]],tritanopia:[[.95,.05,0],[0,.433,.567],[0,.475,.525]],achromatopsia:[[.299,.587,.114],[.299,.587,.114],[.299,.587,.114]]}[r],u=Math.max(0,Math.min(255,Math.round(t*d[0][0]+a*d[0][1]+i*d[0][2]))),T=Math.max(0,Math.min(255,Math.round(t*d[1][0]+a*d[1][1]+i*d[1][2]))),w=Math.max(0,Math.min(255,Math.round(t*d[2][0]+a*d[2][1]+i*d[2][2])));return ge(u,T,w)}const We=[{title:"protanopie",technical:"protanopia",example_1:"It's dangerous to go alone! Take this contrast boost!",example_2:"Ce texte est super efficace !"},{title:"deutéranopie",technical:"deuteranopia",example_1:"May the contrast be with you...",example_2:"Le futur est accessible. Enfin… presque."},{title:"tritanopie",technical:"tritanopia",example_1:"Neo, vois-tu enfin les contrastes de la Matrice ?",example_2:"Error 404: Low contrast not found."},{title:"achromatopsie",technical:"achromatopsia",example_1:"Debugging contrast levels like a pro.",example_2:"Accès autorisé : contraste optimal détecté."}];var Ye=C('<meta name="Description" content="Testeur de Contraste">'),Qe=C("<div><p> </p> <p> </p></div>"),Ue=C("<div><p> </p> <p> </p></div>"),Ze=C('<div class="pickers flex flex-col gap-5 flex-wrap mb-10 svelte-lvx8kp"><div class="contrast flex flex-col p-5 pt-0 svelte-lvx8kp"><h2> </h2> <p class="text-center"> </p> <div class="accessibility-levels svelte-lvx8kp"></div></div> <div class="preview flex flex-col p-5 pt-0 svelte-lvx8kp"><div><h2>Normal text - 12px</h2> <p style="font-size: 12px;"> </p></div> <div><h2>Large text - 18px</h2> <p style="font-size: 18px;"> </p></div></div></div>'),et=C(`<section class="container mt-5 p-5 md:p-10 mx-auto"><h1>Testeur de Contraste (WCAG 2.1)</h1> <div class="pickers flex flex-col gap-5 flex-wrap my-10 svelte-lvx8kp"><div class="flex flex-row gap-5 flex-wrap"><div class="flex flex-row gap-5 flex-wrap p-5 pt-0"><div class="flex flex-col"><label for="hexaBg" class="font-black my-5">Couleur de fond :</label> <div class="input-container svelte-lvx8kp"><input type="text" aria-label="code hexadecimal fond" title="Veuillez entrer un code hexadécimal valide (ex: #FF5733)" class="svelte-lvx8kp"> <input type="color" id="hexaBg" class="svelte-lvx8kp"></div> <button class="px-2 py-1 mt-4 svelte-lvx8kp" title="Ajuster le fond">Ajuster le fond</button></div> <div class="flex flex-col"><label for="hexaText" class="font-black my-5">Couleur du texte :</label> <div class="input-container svelte-lvx8kp"><input type="text" aria-label="code hexadecimal texte" title="Veuillez entrer un code hexadécimal valide (ex: #FF5733)" class="svelte-lvx8kp"> <input type="color" id="hexaText" class="svelte-lvx8kp"></div> <button class="px-2 py-1 mt-4 svelte-lvx8kp" title="Ajuster le texte">Ajuster le texte</button></div></div> <div class="contrast flex flex-col p-5 pt-0 svelte-lvx8kp"><h2>Contraste</h2> <p class="text-center"> </p> <div class="accessibility-levels svelte-lvx8kp"></div></div></div> <div class="preview flex flex-col p-5 pt-0 svelte-lvx8kp"><div><h2>Normal text - 12px</h2> <p style="font-size: 12px;">I see dead pixels… but not with this contrast!</p></div> <div><h2>Large text - 18px</h2> <p style="font-size: 18px;">Mission: Increase contrast. Status: In Progress...</p></div></div></div> <h1>Simulation de vision</h1> <div class="flex flex-row flex-wrap mt-10"></div></section> <svg height="0" width="0"><defs><filter id="protanopia"><feColorMatrix type="matrix" values="0.567, 0.433, 0, 0, 0
													0.558, 0.442, 0, 0, 0
													0, 0.242, 0.758, 0, 0
													0, 0, 0, 1, 0"></feColorMatrix></filter><filter id="deuteranopia"><feColorMatrix type="matrix" values="0.625, 0.375, 0, 0, 0
													0.7, 0.3, 0, 0, 0
													0, 0.3, 0.7, 0, 0
													0, 0, 0, 1, 0"></feColorMatrix></filter><filter id="tritanopia"><feColorMatrix type="matrix" values="0.95, 0.05, 0, 0, 0
													0, 0.433, 0.567, 0, 0
													0, 0.475, 0.525, 0, 0
													0, 0, 0, 1, 0"></feColorMatrix></filter><filter id="achromatopsia"><feColorMatrix type="matrix" values="0.299, 0.587, 0.114, 0, 0
													0.299, 0.587, 0.114, 0, 0
													0.299, 0.587, 0.114, 0, 0
													0, 0, 0, 1, 0"></feColorMatrix></filter></defs></svg>`,1);function ct(e,r){Le(r,!1);let t=Y("#f8f8f8"),a=Y("#111110"),i=Y({contrast:0,protanopia:0,deuteranopia:0,tritanopia:0,achromatopsia:0});function v(){h(a,Ae(l(t),l(a))),u()}function d(){h(t,Pe(l(t),l(a))),u()}function u(){fe(i,l(i).contrast=_(l(t),l(a))),["protanopia","deuteranopia","tritanopia","achromatopsia"].forEach(s=>{fe(i,l(i)[s]=_(_e(l(t),s),_e(l(a),s)))})}function T(s,p){let f=s.target.value.trim();/^#[0-9A-Fa-f]{6}$/.test(f)&&(p==="bg"?h(t,f):h(a,f),u())}function w(s){return[{label:"AA 18px",reached:s>=Xe},{label:"AA",reached:s>=Je},{label:"AAA 18px",reached:s>=qe},{label:"AAA",reached:s>=te}]}He(u),Ge();var ae=et();Fe(s=>{var p=Ye();Ee.title="Lady Raccoon • Testeur de Contraste",M(s,p)});var re=Ne(ae),L=c(n(re),2),N=n(L),z=n(N),E=n(z),D=c(n(E),2),g=n(D);j(g),F(g,"pattern","#[0-9A-Fa-f]6");var V=c(g,2);j(V),o(D);var ye=c(D,2);o(E);var ie=c(E,2),G=c(n(ie),2),A=n(G);j(A),F(A,"pattern","#[0-9A-Fa-f]6");var H=c(A,2);j(H),o(G);var ke=c(G,2);o(ie),o(z);var le=c(z,2),K=c(n(le),2),Me=n(K);o(K);var se=c(K,2);Q(se,5,()=>w(l(i).contrast),U,(s,p)=>{var x=Qe(),f=n(x),y=n(f,!0);o(f);var $=c(f,2),k=n($);o($),o(x),I(()=>{xe(x,me(l(p).reached?"badge success":"badge error"),"svelte-lvx8kp"),m(y,l(p).label),m(k,`- ${(l(p).reached?"OK":"X")??""} -`)}),M(s,x)}),o(se),o(le),o(N);var Ce=c(N,2);o(L);var oe=c(L,4);Q(oe,5,()=>We,U,(s,p)=>{var x=Ze(),f=n(x),y=n(f),$=n(y);o(y);var k=c(y,2),Te=n(k);o(k);var ne=c(k,2);Q(ne,5,()=>w(l(i)[l(p).technical]),U,(X,P)=>{var R=Ue(),W=n(R),Re=n(W,!0);o(W);var de=c(W,2),Ie=n(de);o(de),o(R),I(()=>{xe(R,me(l(P).reached?"badge success":"badge error"),"svelte-lvx8kp"),m(Re,l(P).label),m(Ie,`- ${(l(P).reached?"OK":"X")??""} -`)}),M(X,R)}),o(ne),o(f);var q=c(f,2),J=n(q),ce=c(n(J),2),we=n(ce,!0);o(ce),o(J);var ve=c(J,2),pe=c(n(ve),2),$e=n(pe,!0);o(pe),o(ve),o(q),o(x),I(X=>{m($,`Contraste ${l(p).title??""}`),m(Te,`Ratio : ${X??""}`),F(q,"style",`background-color: ${l(t)??""}; color: ${l(a)??""}; filter: url(#${[l(p).technical]});`),m(we,l(p).example_1),m($e,l(p).example_2)},[()=>l(i)[l(p).technical].toFixed(2)],ue),M(s,x)}),o(oe),o(re),De(2),I(s=>{m(Me,`Ratio : ${s??""}`),F(Ce,"style",`background-color: ${l(t)??""}; color: ${l(a)??""};`)},[()=>l(i).contrast.toFixed(2)],ue),O(g,()=>l(t),s=>h(t,s)),b("input",g,s=>T(s,"bg")),O(V,()=>l(t),s=>h(t,s)),b("input",V,u),b("click",ye,d),O(A,()=>l(a),s=>h(a,s)),b("input",A,s=>T(s,"text")),O(H,()=>l(a),s=>h(a,s)),b("input",H,u),b("click",ke,v),M(e,ae),ze()}export{ct as component};
