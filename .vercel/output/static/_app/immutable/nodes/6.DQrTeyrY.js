import{h as ze,a as M,t as w}from"../chunks/BtsFkzOk.js";import"../chunks/DO2DPsXg.js";import{h as te,aI as Oe,k as je,aE as Fe,w as Se,ap as Be,D as I,x as Le,$ as Ve,V as de,o as l,y as _,aJ as xe,A as c,B as o,C as n,aq as Ee,z as Q}from"../chunks/DfH3HqRO.js";import{l as qe,e as b,s as m}from"../chunks/CNFcg3Ie.js";import{s as N,e as U,r as z,i as Y}from"../chunks/JYmIpOkd.js";import{i as De}from"../chunks/GLUNXj2J.js";import{o as He}from"../chunks/CeMjaseF.js";function ge(e){var r,t,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(t=ge(e[r]))&&(a&&(a+=" "),a+=t)}else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function Ge(){for(var e,r,t=0,a="",s=arguments.length;t<s;t++)(e=arguments[t])&&(r=ge(e))&&(a&&(a+=" "),a+=r);return a}function me(e){return typeof e=="object"?Ge(e):e??""}function _e(e,r,t){var a=e.__className,s=Ke(r,t);te&&e.className===s?e.__className=s:(a!==s||te&&e.className!==s)&&(e.className=s,e.__className=s)}function Ke(e,r){return(e??"")+(" "+r)}function O(e,r,t=r){var a=Oe();qe(e,"input",s=>{var v=s?e.defaultValue:e.value;if(v=Z(e)?ee(v):v,t(v),a&&v!==(v=r())){var u=e.selectionStart,f=e.selectionEnd;e.value=v??"",f!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(f,e.value.length))}}),(te&&e.defaultValue!==e.value||je(r)==null&&e.value)&&t(Z(e)?ee(e.value):e.value),Fe(()=>{var s=r();Z(e)&&s===ee(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Z(e){var r=e.type;return r==="number"||r==="range"}function ee(e){return e===""?null:+e}const ae=7,Xe=4.5,Je=4.5,Pe=3;function j(e){return/^#[0-9A-Fa-f]{6}$/.test(e)}function F(e){let r=0,t=0,a=0;return e.length===7&&(r=parseInt(e.slice(1,3),16),t=parseInt(e.slice(3,5),16),a=parseInt(e.slice(5,7),16)),{r,g:t,b:a}}function Ae(e,r,t){const a=s=>s.toString(16).padStart(2,"0");return`#${a(e)}${a(r)}${a(t)}`}function he(e,r,t){const a=[e,r,t].map(s=>(s/=255,s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)));return a[0]*.2126+a[1]*.7152+a[2]*.0722}function h(e,r){if(!j(e)||!j(r))return 0;const t=F(e),a=F(r),s=he(t.r,t.g,t.b),v=he(a.r,a.g,a.b);return(Math.max(s,v)+.05)/(Math.min(s,v)+.05)}function We(e,r){let t=e,a=0;for(;h(t,r)<ae&&a<50;)t=ye(r,t),a++;return t}function ye(e,r){if(!j(e)||!j(r))return r;const t=F(r);let a=h(e,r),s=0;const v=h(e,"#000000")>h(e,"#ffffff");for(;a<ae&&s<50;)v?(t.r=Math.max(0,t.r-5),t.g=Math.max(0,t.g-5),t.b=Math.max(0,t.b-5)):(t.r=Math.min(255,t.r+5),t.g=Math.min(255,t.g+5),t.b=Math.min(255,t.b+5)),r=Ae(t.r,t.g,t.b),a=h(e,r),s++;return r}function be(e,r){const{r:t,g:a,b:s}=F(e),u={protanopia:[[.567,.433,0],[.558,.442,0],[0,.242,.758]],deuteranopia:[[.625,.375,0],[.7,.3,0],[0,.3,.7]],tritanopia:[[.95,.05,0],[0,.433,.567],[0,.475,.525]],achromatopsia:[[.299,.587,.114],[.299,.587,.114],[.299,.587,.114]]}[r],f=Math.max(0,Math.min(255,Math.round(t*u[0][0]+a*u[0][1]+s*u[0][2]))),T=Math.max(0,Math.min(255,Math.round(t*u[1][0]+a*u[1][1]+s*u[1][2]))),C=Math.max(0,Math.min(255,Math.round(t*u[2][0]+a*u[2][1]+s*u[2][2])));return Ae(f,T,C)}const Qe=[{title:"protanopie",technical:"protanopia",example_1:"It's dangerous to go alone! Take this contrast boost!",example_2:"Ce texte est super efficace !"},{title:"deutéranopie",technical:"deuteranopia",example_1:"May the contrast be with you...",example_2:"Le futur est accessible. Enfin… presque."},{title:"tritanopie",technical:"tritanopia",example_1:"Neo, vois-tu enfin les contrastes de la Matrice ?",example_2:"Error 404: Low contrast not found."},{title:"achromatopsie",technical:"achromatopsia",example_1:"Debugging contrast levels like a pro.",example_2:"Accès autorisé : contraste optimal détecté."}];var Ue=w('<meta name="description" content="Testez facilement le contraste des couleurs de votre site web. Vérifiez la conformité aux normes WCAG pour une meilleure accessibilité. Outil rapide, simple et gratuit.">'),Ye=w("<div><p> </p> <p> </p></div>"),Ze=w("<div><p> </p> <p> </p></div>"),et=w('<div class="pickers flex flex-col gap-5 flex-wrap mb-10 svelte-lvx8kp"><div class="contrast flex flex-col p-5 pt-0 svelte-lvx8kp"><p class="my-3 font-black"> </p> <p class="text-center"> </p> <div class="accessibility-levels svelte-lvx8kp"></div></div> <div class="preview flex flex-col p-5 pt-0 svelte-lvx8kp"><div><p class="my-3 font-black">Normal text - 12px</p> <p style="font-size: 12px;"> </p></div> <div><p class="my-3 font-black">Large text - 18px</p> <p style="font-size: 18px;"> </p></div></div></div>'),tt=w(`<section class="container mt-5 p-5 md:p-10 mx-auto"><h1 class="text-2xl md:text-4xl mb-20">Testez le contraste des couleurs de votre site web</h1> <div class="pickers flex flex-col gap-5 flex-wrap my-10 svelte-lvx8kp"><div class="flex flex-row gap-5 flex-wrap"><div class="flex flex-row gap-5 flex-wrap p-5 pt-0"><div class="flex flex-col"><label for="hexaBg" class="font-black my-5">Couleur de fond :</label> <div class="input-container svelte-lvx8kp"><input type="text" aria-label="code hexadecimal fond" title="Veuillez entrer un code hexadécimal valide (ex: #FF5733)" class="svelte-lvx8kp"> <input type="color" id="hexaBg" class="svelte-lvx8kp"></div> <button class="px-2 py-1 mt-4 svelte-lvx8kp" title="Ajuster le fond">Ajuster le fond</button></div> <div class="flex flex-col"><label for="hexaText" class="font-black my-5">Couleur du texte :</label> <div class="input-container svelte-lvx8kp"><input type="text" aria-label="code hexadecimal texte" title="Veuillez entrer un code hexadécimal valide (ex: #FF5733)" class="svelte-lvx8kp"> <input type="color" id="hexaText" class="svelte-lvx8kp"></div> <button class="px-2 py-1 mt-4 svelte-lvx8kp" title="Ajuster le texte">Ajuster le texte</button></div></div> <div class="contrast flex flex-col p-5 pt-0 svelte-lvx8kp"><p class="my-3 font-black">Contraste</p> <p class="text-center"> </p> <div class="accessibility-levels svelte-lvx8kp"></div></div></div> <div class="preview flex flex-col p-5 pt-0 svelte-lvx8kp"><div><p class="my-3 font-black">Normal text - 12px</p> <p style="font-size: 12px;">I see dead pixels… but not with this contrast!</p></div> <div><p class="my-3 font-black">Large text - 18px</p> <p style="font-size: 18px;">Mission: Increase contrast. Status: In Progress...</p></div></div></div> <h2>Simulation de vision</h2> <div class="flex flex-row flex-wrap mt-10"></div></section> <svg height="0" width="0"><defs><filter id="protanopia"><feColorMatrix type="matrix" values="0.567, 0.433, 0, 0, 0
													0.558, 0.442, 0, 0, 0
													0, 0.242, 0.758, 0, 0
													0, 0, 0, 1, 0"></feColorMatrix></filter><filter id="deuteranopia"><feColorMatrix type="matrix" values="0.625, 0.375, 0, 0, 0
													0.7, 0.3, 0, 0, 0
													0, 0.3, 0.7, 0, 0
													0, 0, 0, 1, 0"></feColorMatrix></filter><filter id="tritanopia"><feColorMatrix type="matrix" values="0.95, 0.05, 0, 0, 0
													0, 0.433, 0.567, 0, 0
													0, 0.475, 0.525, 0, 0
													0, 0, 0, 1, 0"></feColorMatrix></filter><filter id="achromatopsia"><feColorMatrix type="matrix" values="0.299, 0.587, 0.114, 0, 0
													0.299, 0.587, 0.114, 0, 0
													0.299, 0.587, 0.114, 0, 0
													0, 0, 0, 1, 0"></feColorMatrix></filter></defs></svg>`,1);function ct(e,r){Se(r,!1);let t=Q("#f8f8f8"),a=Q("#111110"),s=Q({contrast:0,protanopia:0,deuteranopia:0,tritanopia:0,achromatopsia:0});function v(){_(a,ye(l(t),l(a))),f()}function u(){_(t,We(l(t),l(a))),f()}function f(){xe(s,l(s).contrast=h(l(t),l(a))),["protanopia","deuteranopia","tritanopia","achromatopsia"].forEach(i=>{xe(s,l(s)[i]=h(be(l(t),i),be(l(a),i)))})}function T(i,p){let d=i.target.value.trim();/^#[0-9A-Fa-f]{6}$/.test(d)&&(p==="bg"?_(t,d):_(a,d),f())}function C(i){return[{label:"AA 18px",reached:i>=Pe},{label:"AA",reached:i>=Je},{label:"AAA 18px",reached:i>=Xe},{label:"AAA",reached:i>=ae}]}He(f),De();var re=tt();ze(i=>{var p=Ue();Ve.title="Testeur de Contraste • Vérifiez l’Accessibilité des Couleurs | Lady Raccoon",M(i,p)});var se=Be(re),S=c(o(se),2),B=o(S),L=o(B),V=o(L),E=c(o(V),2),g=o(E);z(g),N(g,"pattern","#[0-9A-Fa-f]6");var q=c(g,2);z(q),n(E);var ke=c(E,2);n(V);var le=c(V,2),D=c(o(le),2),A=o(D);z(A),N(A,"pattern","#[0-9A-Fa-f]6");var H=c(A,2);z(H),n(D);var Me=c(D,2);n(le),n(L);var ie=c(L,2),G=c(o(ie),2),we=o(G);n(G);var ne=c(G,2);U(ne,5,()=>C(l(s).contrast),Y,(i,p)=>{var x=Ye(),d=o(x),y=o(d,!0);n(d);var $=c(d,2),k=o($);n($),n(x),I(()=>{_e(x,me(l(p).reached?"badge success":"badge error"),"svelte-lvx8kp"),m(y,l(p).label),m(k,`- ${(l(p).reached?"OK":"X")??""} -`)}),M(i,x)}),n(ne),n(ie),n(B);var Te=c(B,2);n(S);var oe=c(S,4);U(oe,5,()=>Qe,Y,(i,p)=>{var x=et(),d=o(x),y=o(d),$=o(y);n(y);var k=c(y,2),Ce=o(k);n(k);var ce=c(k,2);U(ce,5,()=>C(l(s)[l(p).technical]),Y,(J,P)=>{var R=Ze(),W=o(R),Ie=o(W,!0);n(W);var fe=c(W,2),Ne=o(fe);n(fe),n(R),I(()=>{_e(R,me(l(P).reached?"badge success":"badge error"),"svelte-lvx8kp"),m(Ie,l(P).label),m(Ne,`- ${(l(P).reached?"OK":"X")??""} -`)}),M(J,R)}),n(ce),n(d);var K=c(d,2),X=o(K),ve=c(o(X),2),$e=o(ve,!0);n(ve),n(X);var pe=c(X,2),ue=c(o(pe),2),Re=o(ue,!0);n(ue),n(pe),n(K),n(x),I(J=>{m($,`Contraste ${l(p).title??""}`),m(Ce,`Ratio : ${J??""}`),N(K,"style",`background-color: ${l(t)??""}; color: ${l(a)??""}; filter: url(#${[l(p).technical]});`),m($e,l(p).example_1),m(Re,l(p).example_2)},[()=>l(s)[l(p).technical].toFixed(2)],de),M(i,x)}),n(oe),n(se),Ee(2),I(i=>{m(we,`Ratio : ${i??""}`),N(Te,"style",`background-color: ${l(t)??""}; color: ${l(a)??""};`)},[()=>l(s).contrast.toFixed(2)],de),O(g,()=>l(t),i=>_(t,i)),b("input",g,i=>T(i,"bg")),O(q,()=>l(t),i=>_(t,i)),b("input",q,f),b("click",ke,u),O(A,()=>l(a),i=>_(a,i)),b("input",A,i=>T(i,"text")),O(H,()=>l(a),i=>_(a,i)),b("input",H,f),b("click",Me,v),M(e,re),Le()}export{ct as component};
