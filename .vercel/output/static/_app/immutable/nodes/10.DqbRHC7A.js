import{l as Ne,m as Se,t as W,a as M,n as k,k as pe}from"../chunks/CneMuT22.js";import{a as w,s as Q,i as Le,c as $,b as C,r as T}from"../chunks/CtKJIoAO.js";import{b as He,Y as Oe,i as Ve,as as qe,q as De,h as Ae,j as Ge,at as Ye,a2 as Ze,am as Je,t as U,c as d,r as u,p as Ke,f as me,g as s,a as Qe,s as c,G as he,n as Y,_ as Z,Z as x,au as xe}from"../chunks/DNaZH1DC.js";import{s as A}from"../chunks/BUxUjzc_.js";import{e as Ue,i as We}from"../chunks/Bu7uc-6v.js";import{o as Xe}from"../chunks/d2rYJ7uk.js";import{p as j}from"../chunks/3JIQj3lP.js";import{H as ea}from"../chunks/CrQ2xTS_.js";import{P as be}from"../chunks/S8eMQSF0.js";function aa(e,i,...a){var t=e,r=qe,n;He(()=>{r!==(r=i())&&(n&&(De(n),n=null),n=Ve(()=>r(t,...a)))},Oe),Ae&&(t=Ge)}function F(e,i,a=i){var t=Ye();Ne(e,"input",r=>{var n=r?e.defaultValue:e.value;if(n=J(e)?K(n):n,a(n),t&&n!==(n=i())){var o=e.selectionStart,v=e.selectionEnd;e.value=n??"",v!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(v,e.value.length))}}),(Ae&&e.defaultValue!==e.value||Ze(i)==null&&e.value)&&a(J(e)?K(e.value):e.value),Je(()=>{var r=i();J(e)&&r===K(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function J(e){var i=e.type;return i==="number"||i==="range"}function K(e){return e===""?null:+e}const X=7,ta=4.5;function R(e){return/^#[0-9A-Fa-f]{6}$/.test(e)}function P(e){let i=0,a=0,t=0;return e.length===7&&(i=parseInt(e.slice(1,3),16),a=parseInt(e.slice(3,5),16),t=parseInt(e.slice(5,7),16)),{r:i,g:a,b:t}}function Me(e,i,a){const t=r=>r.toString(16).padStart(2,"0");return`#${t(e)}${t(i)}${t(a)}`}function _e(e,i,a){const t=[e,i,a].map(r=>(r/=255,r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)));return t[0]*.2126+t[1]*.7152+t[2]*.0722}function b(e,i){if(!R(e)||!R(i))return 0;const a=P(e),t=P(i),r=_e(a.r,a.g,a.b),n=_e(t.r,t.g,t.b);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function ra(e,i){let a=e,t=0;for(;b(a,i)<X&&t<50;)a=we(i,a),t++;return a}function we(e,i){if(!R(e)||!R(i))return i;const a=P(i);let t=b(e,i),r=0;const n=b(e,"#000000")>b(e,"#ffffff");for(;t<X&&r<50;)n?(a.r=Math.max(0,a.r-5),a.g=Math.max(0,a.g-5),a.b=Math.max(0,a.b-5)):(a.r=Math.min(255,a.r+5),a.g=Math.min(255,a.g+5),a.b=Math.min(255,a.b+5)),i=Me(a.r,a.g,a.b),t=b(e,i),r++;return i}function ge(e,i){const{r:a,g:t,b:r}=P(e),o={protanopia:[[.567,.433,0],[.558,.442,0],[0,.242,.758]],deuteranopia:[[.625,.375,0],[.7,.3,0],[0,.3,.7]],tritanopia:[[.95,.05,0],[0,.433,.567],[0,.475,.525]],achromatopsia:[[.299,.587,.114],[.299,.587,.114],[.299,.587,.114]]}[i],v=Math.max(0,Math.min(255,Math.round(a*o[0][0]+t*o[0][1]+r*o[0][2]))),_=Math.max(0,Math.min(255,Math.round(a*o[1][0]+t*o[1][1]+r*o[1][2]))),f=Math.max(0,Math.min(255,Math.round(a*o[2][0]+t*o[2][1]+r*o[2][2])));return Me(v,_,f)}const ia=[{title:"protanopie",technical:"protanopia",example_1:"It's dangerous to go alone! Take this contrast boost!",example_2:"Ce texte est super efficace !"},{title:"deutéranopie",technical:"deuteranopia",example_1:"May the contrast be with you...",example_2:"Le futur est accessible. Enfin… presque."},{title:"tritanopie",technical:"tritanopia",example_1:"Neo, vois-tu enfin les contrastes de la Matrice ?",example_2:"Error 404: Low contrast not found."},{title:"achromatopsie",technical:"achromatopsia",example_1:"Debugging contrast levels like a pro.",example_2:"Accès autorisé : contraste optimal détecté."}];var sa=W("<button><!></button>");function ye(e,i){let a=j(i,"children",8),t=j(i,"label",8),r=j(i,"color",8,"primary"),n=j(i,"handleClick",8);var o=sa();o.__click=function(..._){var f;(f=n())==null||f.apply(this,_)};var v=d(o);aa(v,a),u(o),U(()=>{w(o,1,`inline-block mt-6 px-6 py-3 
        font-semibold 
        text-[var(--background)] hover:text-[var(--background)] 
        ${(r()==="primary"?"bg-[var(--primary)]":"bg-[var(--secondary)]")??""} 
        ${(r()==="primary"?"hover:bg-[var(--secondary)]":"hover:bg-[var(--primary)]")??""} 
        transition z-20`),Q(o,"aria-label",t())}),M(e,o)}Se(["click"]);var la=W('<h2> </h2> <div class="flex flex-row gap-4 mb-10 flex-wrap justify-start items-center"><div class="flex flex-row gap-4 justify-start items-center"><div class="p-3 border">Normal text - 12pt</div> <div> </div></div> <div class="flex flex-row gap-4 justify-start items-center"><div class="p-2 border">Large text - 18pt</div> <div> </div></div></div>',1),na=W(`<!> <!> <div class="relative w-full max-w-5xl mx-auto px-4 mb-10"><article class="w-full px-10 pb-10 bg-[var(--background)] border"><h1>Tester le contraste des couleurs</h1> <div class="w-full flex flex-row gap-5 flex-wrap justify-start items-end"><div><label for="hexaBg" class="font-black my-5">Couleur de fond :</label> <div class="input-container svelte-ua8bnn"><input type="text" aria-label="code hexadecimal fond" title="Veuillez entrer un code hexadécimal valide (ex: #FF5733)" class="svelte-ua8bnn"> <input type="color" id="hexaBg" class="svelte-ua8bnn"></div> <!></div> <div><label for="hexaText" class="font-black my-5">Couleur du texte :</label> <div class="input-container svelte-ua8bnn"><input type="text" aria-label="code hexadecimal texte" title="Veuillez entrer un code hexadécimal valide (ex: #FF5733)" class="svelte-ua8bnn"> <input type="color" id="hexaText" class="svelte-ua8bnn"></div> <!></div></div> <hr class="my-10"> <h2>Contraste sans handicap visuel</h2> <div class="flex flex-row gap-4 mb-10 flex-wrap justify-start items-center"><div class="flex flex-row gap-4 justify-start items-center"><div class="p-3 border">Normal text - 12pt</div> <div> </div></div> <div class="flex flex-row gap-4 justify-start items-center"><div class="p-2 border">Large text - 18pt</div> <div> </div></div></div> <hr class="my-10"> <!> <!></article></div> <svg height="0" width="0"><defs><filter id="protanopia"><feColorMatrix type="matrix" values="0.567, 0.433, 0, 0, 0
													0.558, 0.442, 0, 0, 0
													0, 0.242, 0.758, 0, 0
													0, 0, 0, 1, 0"></feColorMatrix></filter><filter id="deuteranopia"><feColorMatrix type="matrix" values="0.625, 0.375, 0, 0, 0
													0.7, 0.3, 0, 0, 0
													0, 0.3, 0.7, 0, 0
													0, 0, 0, 1, 0"></feColorMatrix></filter><filter id="tritanopia"><feColorMatrix type="matrix" values="0.95, 0.05, 0, 0, 0
													0, 0.433, 0.567, 0, 0
													0, 0.475, 0.525, 0, 0
													0, 0, 0, 1, 0"></feColorMatrix></filter><filter id="achromatopsia"><feColorMatrix type="matrix" values="0.299, 0.587, 0.114, 0, 0
													0.299, 0.587, 0.114, 0, 0
													0.299, 0.587, 0.114, 0, 0
													0, 0, 0, 1, 0"></feColorMatrix></filter></defs></svg>`,1);function xa(e,i){Ke(i,!1);let a=Z("#f8f8f8"),t=Z("#111110"),r=Z({contrast:0,protanopia:0,deuteranopia:0,tritanopia:0,achromatopsia:0});function n(){x(t,we(s(a),s(t))),v()}function o(){x(a,ra(s(a),s(t))),v()}function v(){xe(r,s(r).contrast=b(s(a),s(t))),["protanopia","deuteranopia","tritanopia","achromatopsia"].forEach(l=>{xe(r,s(r)[l]=b(ge(s(a),l),ge(s(t),l)))})}function _(l,p){const h=l.target.value.trim();/^#[0-9A-Fa-f]{6}$/.test(h)&&(p==="bg"?x(a,h):x(t,h),v())}function f(l){return[{label:"AAA 18pt",reached:l>=ta},{label:"AAA",reached:l>=X}]}Xe(v),Le();var ee=na(),ae=me(ee);ea(ae);var te=c(ae,2);be(te,{class:"absolute top-[150px] end-[0] w-[90px] sm:w-[150px]"});var re=c(te,2),ie=d(re),z=c(d(ie),2),B=d(z),E=c(d(B),2),g=d(E);T(g),Q(g,"pattern","#[0-9A-Fa-f]6");var I=c(g,2);T(I),u(E);var ke=c(E,2);ye(ke,{handleClick:o,label:"Ajuster le fond",children:(l,p)=>{Y();var m=pe("Ajuster le fond");M(l,m)},$$slots:{default:!0}}),u(B);var se=c(B,2),N=c(d(se),2),y=d(N);T(y),Q(y,"pattern","#[0-9A-Fa-f]6");var S=c(y,2);T(S),u(N);var $e=c(N,2);ye($e,{handleClick:n,label:"Ajuster le texte",children:(l,p)=>{Y();var m=pe("Ajuster le texte");M(l,m)},$$slots:{default:!0}}),u(se),u(z);var L=c(z,6),H=d(L),le=d(H),O=c(le,2),Ce=d(O,!0);u(O),u(H);var ne=c(H,2),oe=d(ne),V=c(oe,2),Te=d(V,!0);u(V),u(ne),u(L);var ce=c(L,4);Ue(ce,1,()=>ia,We,(l,p)=>{var m=la(),h=me(m),Fe=d(h);u(h);var de=c(h,2),q=d(de),ue=d(q),D=c(ue,2),Re=d(D,!0);u(D),u(q);var ve=c(q,2),fe=d(ve),G=c(fe,2),Pe=d(G,!0);u(G),u(ve),u(de),U((ze,Be,Ee,Ie)=>{A(Fe,`Contraste avec daltonisme ${s(p).title??""}`),C(ue,`background-color: ${s(a)??""}; color: ${s(t)??""}; font-size: 12pt; filter: url(#${[s(p).technical]});`),w(D,1,ze,"svelte-ua8bnn"),A(Re,Be),C(fe,`background-color: ${s(a)??""}; color: ${s(t)??""}; font-size: 18pt; filter: url(#${[s(p).technical]});`),w(G,1,Ee,"svelte-ua8bnn"),A(Pe,Ie)},[()=>$(f(s(r)[s(p).technical])[1].reached?"badge success":"badge error"),()=>f(s(r)[s(p).technical])[1].reached?"Pass":"Fail",()=>$(f(s(r)[s(p).technical])[0].reached?"badge success":"badge error"),()=>f(s(r)[s(p).technical])[0].reached?"Pass":"Fail"],he),M(l,m)});var je=c(ce,2);be(je,{class:"absolute bottom-0 start-0 md:start-[-15%] w-[90px] sm:w-[150px] z-[-1]"}),u(ie),u(re),Y(2),U((l,p,m,h)=>{C(le,`background-color: ${s(a)??""}; color: ${s(t)??""}; font-size: 12pt;`),w(O,1,l,"svelte-ua8bnn"),A(Ce,p),C(oe,`background-color: ${s(a)??""}; color: ${s(t)??""}; font-size: 18pt;`),w(V,1,m,"svelte-ua8bnn"),A(Te,h)},[()=>$(f(s(r).contrast)[1].reached?"badge success":"badge error"),()=>f(s(r).contrast)[1].reached?"Pass":"Fail",()=>$(f(s(r).contrast)[0].reached?"badge success":"badge error"),()=>f(s(r).contrast)[0].reached?"Pass":"Fail"],he),F(g,()=>s(a),l=>x(a,l)),k("input",g,l=>_(l,"bg")),F(I,()=>s(a),l=>x(a,l)),k("input",I,v),F(y,()=>s(t),l=>x(t,l)),k("input",y,l=>_(l,"text")),F(S,()=>s(t),l=>x(t,l)),k("input",S,v),M(e,ee),Qe()}export{xa as component};
