import{av as T,ap as m,F as q,t as I,ah as C,q as F,ai as M,L as W,aw as A,B as z,ax as U,N as $,ay as N,l as y,s as R,i as B,c as g,D as j,az as Z,aA as x,z as G,o as J,aB as K,f as Q,a as S,a0 as X,h as w,a1 as ee,U as ae,b as re,E as te,H as se,k as ne,m as k,p as O,af as ie}from"./D_IUTYtx.js";import{r as oe,b as fe}from"./C6Fglkv_.js";const le=["touchstart","touchmove"];function ue(e){return le.includes(e)}function ce(e){var a=q,t=I;T(null),m(null);try{return e()}finally{T(a),m(t)}}const de=new Set,H=new Set;function _e(e,a,t,i){function n(r){if(i.capture||E.call(a,r),!r.cancelBubble)return ce(()=>t.call(this,r))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?F(()=>{a.addEventListener(e,n,i)}):a.addEventListener(e,n,i),n}function ye(e,a,t,i,n){var r={capture:i,passive:n},f=_e(e,a,t,r);(a===document.body||a===window||a===document)&&C(()=>{a.removeEventListener(e,f,r)})}function E(e){var D;var a=this,t=a.ownerDocument,i=e.type,n=((D=e.composedPath)==null?void 0:D.call(e))||[],r=n[0]||e.target,f=0,d=e.__root;if(d){var u=n.indexOf(d);if(u!==-1&&(a===document||a===window)){e.__root=a;return}var _=n.indexOf(a);if(_===-1)return;u<=_&&(f=u)}if(r=n[f]||e.target,r!==a){M(e,"currentTarget",{configurable:!0,get(){return r||t}});var v=q,l=I;T(null),m(null);try{for(var s,o=[];r!==null;){var c=r.assignedSlot||r.parentNode||r.host||null;try{var h=r["__"+i];if(h!==void 0&&!r.disabled)if(W(h)){var[V,...Y]=h;V.apply(r,[e,...Y])}else h.call(r,e)}catch(b){s?o.push(b):s=b}if(e.cancelBubble||c===a||c===null)break;r=c}if(s){for(let b of o)queueMicrotask(()=>{throw b});throw s}}finally{e.__root=a,delete e.currentTarget,T(v),m(l)}}}function ge(e,a){var t=a==null?"":typeof a=="object"?a+"":a;t!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=t,e.nodeValue=t==null?"":t+"")}function he(e,a){return P(e,a)}function we(e,a){A(),a.intro=a.intro??!1;const t=a.target,i=w,n=g;try{for(var r=z(t);r&&(r.nodeType!==8||r.data!==U);)r=$(r);if(!r)throw N;y(!0),R(r),B();const f=P(e,{...a,anchor:r});if(g===null||g.nodeType!==8||g.data!==j)throw Z(),N;return y(!1),f}catch(f){if(f===N)return a.recover===!1&&x(),A(),G(t),y(!1),he(e,a);throw f}finally{y(i),R(n),oe()}}const p=new Map;function P(e,{target:a,anchor:t,props:i={},events:n,context:r,intro:f=!0}){A();var d=new Set,u=l=>{for(var s=0;s<l.length;s++){var o=l[s];if(!d.has(o)){d.add(o);var c=ue(o);a.addEventListener(o,E,{passive:c});var h=p.get(o);h===void 0?(document.addEventListener(o,E,{passive:c}),p.set(o,1)):p.set(o,h+1)}}};u(J(de)),H.add(u);var _=void 0,v=K(()=>{var l=t??a.appendChild(Q());return S(()=>{if(r){X({});var s=ae;s.c=r}n&&(i.$$events=n),w&&fe(l,null),_=e(l,i)||{},w&&(I.nodes_end=g),r&&ee()}),()=>{var c;for(var s of d){a.removeEventListener(s,E);var o=p.get(s);--o===0?(document.removeEventListener(s,E),p.delete(s)):p.set(s,o)}H.delete(u),l!==t&&((c=l.parentNode)==null||c.removeChild(l))}});return L.set(_,v),_}let L=new WeakMap;function Ee(e,a){const t=L.get(e);return t?(L.delete(e),t(a)):Promise.resolve()}function be(e,a,t=!1){w&&B();var i=e,n=null,r=null,f=ie,d=t?te:0,u=!1;const _=(l,s=!0)=>{u=!0,v(s,l)},v=(l,s)=>{if(f===(f=l))return;let o=!1;if(w){const c=i.data===se;!!f===c&&(i=ne(),R(i),y(!1),o=!0)}f?(n?k(n):s&&(n=S(()=>s(i))),r&&O(r,()=>{r=null})):(r?k(r):s&&(r=S(()=>s(i))),n&&O(n,()=>{n=null})),o&&y(!0)};re(()=>{u=!1,a(_),u||v(null,null)},d),w&&(i=g)}export{ye as e,we as h,be as i,he as m,ge as s,Ee as u,ce as w};
